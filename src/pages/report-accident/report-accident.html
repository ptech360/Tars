<!--
  Generated template for the ReportAccidentPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-toolbar color="primary">
    <ion-navbar>
      <ion-title>Report Accident</ion-title>
    </ion-navbar>
    <ion-buttons end>
      <button ion-button icon-only (click)="goToHome()">
        <ion-icon name="home"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content class="background">
  <form [formGroup]="accidentForm">
    <div class="bg-white">
      <ion-card>
        <ion-list>
          <ion-item class="border">
            <ion-label stacked>FIR Number
              <code>*</code> </ion-label>
            <ion-input formControlName="firNum"></ion-input>
          </ion-item>
          <ion-item class="border" lines="none">
            <ion-label>Accident Type
              <code>*</code>
            </ion-label>
            <ion-select formControlName="type">
              <ion-option *ngFor="let type of accidentTypes;" [value]="type.name">{{type.name}}</ion-option>
            </ion-select>
          </ion-item>
          <ion-item class="border">
            <ion-label stacked>Location
              <code>*</code> </ion-label>
            <ion-textarea formControlName="address"></ion-textarea>
          </ion-item>
          <ion-item class="border">
            <ion-label>No. of Vehicle Involved
              <code>*</code>
            </ion-label>
            <ion-select formControlName="numOfVehicle">
              <ion-option value="1">1</ion-option>
              <ion-option value="2">2</ion-option>
              <ion-option value="3">3</ion-option>
              <ion-option value="4">4</ion-option>
            </ion-select>
          </ion-item>
          <ion-item class="border">
            <ion-label>No. of Casualities
              <code>*</code>
            </ion-label>
            <ion-input type="number" formControlName="numOfCasualities" text-right></ion-input>
          </ion-item>
          <ion-item class="border accident-happen">
            <ion-label stacked>How did the Accident Happen?
              <code>*</code> </ion-label>
            <ion-textarea formControlName="description"></ion-textarea>
          </ion-item>
          <!-- <ion-item class="border">
            <ion-label>Fatal
              <code>*</code>
            </ion-label>
            <ion-toggle formControlName="fatal"></ion-toggle>
          </ion-item> -->
        </ion-list>
      </ion-card>
      <ion-card class="remarks-card">
        <ion-list>
          <ion-item class="border">
            <ion-label stacked>Information On Analysing Agency And Personnel
              <code>*</code> </ion-label>
            <ion-textarea formControlName="analysingInfo"></ion-textarea>
          </ion-item>
          <ion-item class="border">
            <ion-label stacked>Primary and Secondary Causes of the accident</ion-label>
            <ion-textarea formControlName="primaryAndSecondaryCauses"></ion-textarea>
          </ion-item>
          <ion-item class="border">
            <ion-label stacked>Drawing Of Accident Details</ion-label>
            <ion-textarea formControlName="drawing"></ion-textarea>
          </ion-item>
          <ion-item class="border">
            <ion-label stacked>Type and extent of property damage
              <code>*</code> </ion-label>
            <ion-textarea formControlName="typeAndExtent"></ion-textarea>
          </ion-item>
          <ion-item class="border">
            <ion-label stacked>Remarks
              <code>*</code> </ion-label>
            <ion-textarea formControlName="remark"></ion-textarea>
          </ion-item>
        </ion-list>
      </ion-card>
    </div>
    <div>
      <ion-card>
        <ion-list>
          <media [medias]="accidentGlobalObject.medias" [mediaFor]="'accident'" [formGroup]="accidentForm"></media>
        </ion-list>
      </ion-card>
    </div>
    <div padding>
      <button type="submit" ion-button block [disabled]="accidentForm.invalid" (click)="saveAccidentReport()"> Proceed </button>
    </div>
  </form>
</ion-content>